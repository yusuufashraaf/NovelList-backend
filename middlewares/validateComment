
const mongoose = require('mongoose');
function validateComment(req, res, next) {
  const { userId, bookId, comment } = req.body;

  if (!userId || !mongoose.Types.ObjectId.isValid(userId)) {
    return res.status(400).json({ error: 'Invalid or missing userId' });
  }

  if (!bookId || !mongoose.Types.ObjectId.isValid(bookId)) {
    return res.status(400).json({ error: 'Invalid or missing bookId' });
  }

  if (typeof comment !== 'string' || comment.trim().length < 1) {
    return res.status(400).json({ error: 'Comment must be a non-empty string' });
  }

  next();
}
module.exports =validateComment;